################################################################################
#
# Plugins Domotica
#
################################################################################
PLUGIN_DOMOTICA_VERSION = main
PLUGIN_DOMOTICA_SITE = git@git.integraal.info:integraal/modules.git
PLUGIN_DOMOTICA_SUBDIR = src
PLUGIN_DOMOTICA_SITE_METHOD = git
PLUGIN_DOMOTICA_INSTALL_STAGING = NO
PLUGIN_DOMOTICA_DEPENDENCIES = bridge bridge-contracts
PLUGIN_DOMOTICA_CONF_OPTS += -DBUILD_REFERENCE=${PLUGIN_DOMOTICA_VERSION}

ifeq ($(BR2_PACKAGE_BRIDGE_DEBUG),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DCMAKE_BUILD_TYPE=Debug
endif

ifeq ($(BR2_PACKAGE_PLUGIN_BARN),y) 
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_BARN=ON
endif

ifeq ($(BR2_PACKAGE_PLUGIN_BUTLER),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_BUTLER=ON
endif

ifeq ($(BR2_PACKAGE_PLUGIN_CLOUDRELAY),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_CLOUDRELAY=ON
endif

ifeq ($(BR2_PACKAGE_PLUGIN_I2CCONTROL),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_I2CCONTROL=ON
endif

ifeq ($(BR2_PACKAGE_PLUGIN_IOCONTROL),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_IOCONTROL=ON
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_IOCONTROL_PINS=$(BR2_PACKAGE_PLUGIN_IOCONNECTOR_PINS)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_IOCONTROL_AUTOSTART=true
ifeq ($(BR2_PACKAGE_RPI_FIRMWARE),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DRASPBERRYPI=ON
endif
endif

ifeq ($(BR2_PACKAGE_PLUGIN_NEXTGREENENERGY),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_NEXTGREENENERGY=ON
endif

ifeq ($(BR2_PACKAGE_PLUGIN_ONEWIRECONTROL),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_ONEWIRECONTROL=ON
endif

ifeq ($(BR2_PACKAGE_PLUGIN_RADIOCONTROL),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_RADIOCONTROL=ON
endif

ifeq ($(BR2_PACKAGE_PLUGIN_RULEENGINE),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_RULEENGINE=ON
endif

ifeq ($(BR2_PACKAGE_PLUGIN_RUSTBRIDGE),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_RUSTBRIDGE=ON
endif

ifeq ($(BR2_PACKAGE_PLUGIN_SCRIPTENGINE),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_SCRIPTENGINE=ON
PLUGIN_DOMOTICA_DEPENDENCIES += nodejs
endif

ifeq ($(BR2_PACKAGE_PLUGIN_SPICONTROL),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_SPICONTROL=ON
endif

ifeq ($(BR2_PACKAGE_PLUGIN_SPEECHTOTEXT),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_SPEECHTOTEXT=ON
endif

ifeq ($(BR2_PACKAGE_PLUGIN_TEMPCONTROL),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_TEMPCONTROL=ON
endif

ifeq ($(BR2_PACKAGE_PLUGIN_VIRTUALCONTROL),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_VIRTUALCONTROL=ON
endif

ifeq ($(BR2_PACKAGE_PLUGIN_WATCHDOG),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_WATCHDOG=ON
endif

ifeq ($(BR2_PACKAGE_PLUGIN_ZIGBEECONTROL),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_ZIGBEECONTROL=ON
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_ZIGBEECONTROL_PORT=${BR2_PACKAGE_ZIGBEE_PORT}
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_ZIGBEECONTROL_WATCHDOG_TIME=${BR2_PACKAGE_ZIGBEE_WATCHDOG_TIME}
endif

ifeq ($(BR2_PACKAGE_PLUGIN_ZWAVECONTROL),y)
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_ZWAVECONTROL=ON
PLUGIN_DOMOTICA_CONF_OPTS += -DPLUGIN_ZWAVECONTROL_PORT=${BR2_PACKAGE_ZWAVE_PORT}
endif

$(eval $(cmake-package))
